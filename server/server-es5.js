module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 10);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvb3NlXCI/ZDUwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIm1vbmdvb3NlXCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!*******************************!*\
  !*** external "passport-jwt" ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"passport-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInBhc3Nwb3J0LWp3dFwiP2FiOTciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicGFzc3BvcnQtand0XCJcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!******************************!*\
  !*** ./server/app-config.js ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar config = {\n\n  siteTitle: \"OAuth App\",\n  dbLocation: \"mongodb://localhost/oauth-app\",\n\n  facebookConfig: {\n    appID: \"YOUR_APP_ID\",\n    appSecret: \"YOUR_APP_SECRET\",\n    callbackUrl: \"http://localhost:3000/auth/login/facebook/callback\"\n  },\n\n  googleConfig: {\n    appID: \"YOUR_APP_ID\",\n    appSecret: \"YOUR_APP_SECRET\",\n    callbackUrl: \"http://localhost:3000/auth/login/google/callback\"\n  },\n\n  jwtSecret: \"myLittlePony\"\n\n};\n\nmodule.exports = config;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvYXBwLWNvbmZpZy5qcz84NDlmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb25maWcgPSB7XG4gIFxuICAgIHNpdGVUaXRsZTogXCJPQXV0aCBBcHBcIixcbiAgICBkYkxvY2F0aW9uOiBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Qvb2F1dGgtYXBwXCIsXG4gIFxuICAgIGZhY2Vib29rQ29uZmlnOiB7XG4gICAgICBhcHBJRDogXCJZT1VSX0FQUF9JRFwiLFxuICAgICAgYXBwU2VjcmV0OiBcIllPVVJfQVBQX1NFQ1JFVFwiLFxuICAgICAgY2FsbGJhY2tVcmw6IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvbG9naW4vZmFjZWJvb2svY2FsbGJhY2tcIlxuICAgIH0sXG4gIFxuICAgIGdvb2dsZUNvbmZpZzoge1xuICAgICAgYXBwSUQ6IFwiWU9VUl9BUFBfSURcIixcbiAgICAgIGFwcFNlY3JldDogXCJZT1VSX0FQUF9TRUNSRVRcIixcbiAgICAgIGNhbGxiYWNrVXJsOiBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2xvZ2luL2dvb2dsZS9jYWxsYmFja1wiXG4gICAgfSxcblxuICAgIGp3dFNlY3JldDogXCJteUxpdHRsZVBvbnlcIlxuICBcbiAgfVxuICBcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb25maWc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9hcHAtY29uZmlnLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBbEJBO0FBQ0E7QUFvQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIj9kMmQyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJleHByZXNzXCJcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!***************************!*\
  !*** external "passport" ***!
  \***************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"passport\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInBhc3Nwb3J0XCI/MDMzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInBhc3Nwb3J0XCJcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!*********************************!*\
  !*** external "passport-local" ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"passport-local\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInBhc3Nwb3J0LWxvY2FsXCI/ZjNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydC1sb2NhbFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInBhc3Nwb3J0LWxvY2FsXCJcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/*!*******************************!*\
  !*** ./server/models/User.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar mongoose = __webpack_require__(/*! mongoose */ 0);\nvar bcrypt = __webpack_require__(/*! bcrypt */ 18);\n\nvar UserSchema = mongoose.Schema({\n\n  email: String,\n  reg_source: String, //Source of registration\n\n  local: {\n    username: String,\n    password: String\n  },\n  facebook: {\n    id: String,\n    token: String\n  },\n  google: {\n    id: String,\n    token: String\n  }\n\n});\n\n//We create a variable accesible outside of this file. Variable will be a mongoose schema with added functions\nvar User = module.exports = mongoose.model('User', UserSchema);\n\n//Functions for making last touches new user objects and then saves them in database\n\nmodule.exports.createLocalUser = function (newUser, callback) {\n  bcrypt.genSalt(10, function (err, salt) {\n    bcrypt.hash(newUser.local.password, salt, function (err, hash) {\n      newUser.local.password = hash;\n      newUser.save(callback);\n    });\n  });\n};\n\nmodule.exports.createFacebookUser = function (newUser, callback) {\n  newUser.save(callback);\n};\n\nmodule.exports.createGoogleUser = function (newUser, callback) {\n  newUser.save(callback);\n};\n\nmodule.exports.createGoogleUser = function (newUser, callback) {\n  newUser.save(callback);\n};\n\n//Getters for users\n\nmodule.exports.getUserByLocalUsername = function (username, callback) {\n  var query = { 'local.username': username };\n  User.findOne(query, callback);\n};\n\nmodule.exports.getUserByFacebookId = function (id, callback) {\n  var query = { 'facebook.id': id };\n  User.findOne(query, callback);\n};\n\nmodule.exports.getUserByGoogleId = function (id, callback) {\n  var query = { 'google.id': id };\n  User.findOne(query, callback);\n};\n\nmodule.exports.getUserById = function (id, callback) {\n  var query = { _id: mongoose.mongo.ObjectId(id) };\n  User.findOne(query, callback);\n};\n\n// Password stuff\n\nmodule.exports.comparePassword = function (candidatePassword, hash, callback) {\n  bcrypt.compare(candidatePassword, hash, function (err, isMatch) {\n    if (err) throw err;\n    callback(null, isMatch);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvbW9kZWxzL1VzZXIuanM/ZTk1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xudmFyIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xuXG52YXIgVXNlclNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYSh7XG5cbiAgICBlbWFpbCAgICAgICAgICA6IFN0cmluZyxcbiAgICByZWdfc291cmNlICAgICA6IFN0cmluZywgLy9Tb3VyY2Ugb2YgcmVnaXN0cmF0aW9uXG5cbiAgICBsb2NhbCAgICAgICAgICAgIDoge1xuICAgICAgICB1c2VybmFtZSAgICAgOiBTdHJpbmcsXG4gICAgICAgIHBhc3N3b3JkICAgICA6IFN0cmluZyxcbiAgICB9LFxuICAgIGZhY2Vib29rICAgICAgICAgOiB7XG4gICAgICAgIGlkICAgICAgICAgICA6IFN0cmluZyxcbiAgICAgICAgdG9rZW4gICAgICAgIDogU3RyaW5nXG4gICAgfSxcbiAgICBnb29nbGUgICAgICAgICAgIDoge1xuICAgICAgICBpZCAgICAgICAgICAgOiBTdHJpbmcsXG4gICAgICAgIHRva2VuICAgICAgICA6IFN0cmluZ1xuICAgIH1cblxufSk7XG5cbi8vV2UgY3JlYXRlIGEgdmFyaWFibGUgYWNjZXNpYmxlIG91dHNpZGUgb2YgdGhpcyBmaWxlLiBWYXJpYWJsZSB3aWxsIGJlIGEgbW9uZ29vc2Ugc2NoZW1hIHdpdGggYWRkZWQgZnVuY3Rpb25zXG52YXIgVXNlciA9IG1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCBVc2VyU2NoZW1hKTtcblxuLy9GdW5jdGlvbnMgZm9yIG1ha2luZyBsYXN0IHRvdWNoZXMgbmV3IHVzZXIgb2JqZWN0cyBhbmQgdGhlbiBzYXZlcyB0aGVtIGluIGRhdGFiYXNlXG5cbm1vZHVsZS5leHBvcnRzLmNyZWF0ZUxvY2FsVXNlciA9IGZ1bmN0aW9uKG5ld1VzZXIsIGNhbGxiYWNrKXtcbiAgYmNyeXB0LmdlblNhbHQoMTAsIGZ1bmN0aW9uKGVyciwgc2FsdCkge1xuICAgIGJjcnlwdC5oYXNoKG5ld1VzZXIubG9jYWwucGFzc3dvcmQsIHNhbHQsIGZ1bmN0aW9uKGVyciwgaGFzaCkge1xuICAgICAgICBuZXdVc2VyLmxvY2FsLnBhc3N3b3JkID0gaGFzaDtcbiAgICAgICAgbmV3VXNlci5zYXZlKGNhbGxiYWNrKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmNyZWF0ZUZhY2Vib29rVXNlciA9IGZ1bmN0aW9uKG5ld1VzZXIsIGNhbGxiYWNrKXtcbiAgbmV3VXNlci5zYXZlKGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuY3JlYXRlR29vZ2xlVXNlciA9IGZ1bmN0aW9uKG5ld1VzZXIsIGNhbGxiYWNrKXtcbiAgbmV3VXNlci5zYXZlKGNhbGxiYWNrKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVHb29nbGVVc2VyID0gZnVuY3Rpb24obmV3VXNlciwgY2FsbGJhY2spe1xuICBuZXdVc2VyLnNhdmUoY2FsbGJhY2spO1xufVxuXG4vL0dldHRlcnMgZm9yIHVzZXJzXG5cbm1vZHVsZS5leHBvcnRzLmdldFVzZXJCeUxvY2FsVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VybmFtZSwgY2FsbGJhY2spe1xuICB2YXIgcXVlcnkgPSB7J2xvY2FsLnVzZXJuYW1lJzogdXNlcm5hbWV9OyBcbiAgVXNlci5maW5kT25lKHF1ZXJ5LCBjYWxsYmFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmdldFVzZXJCeUZhY2Vib29rSWQgPSBmdW5jdGlvbihpZCwgY2FsbGJhY2spe1xuICB2YXIgcXVlcnkgPSB7J2ZhY2Vib29rLmlkJzogaWR9OyBcbiAgVXNlci5maW5kT25lKHF1ZXJ5LCBjYWxsYmFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmdldFVzZXJCeUdvb2dsZUlkID0gZnVuY3Rpb24oaWQsIGNhbGxiYWNrKXtcbiAgdmFyIHF1ZXJ5ID0geydnb29nbGUuaWQnOiBpZH07IFxuICBVc2VyLmZpbmRPbmUocXVlcnksIGNhbGxiYWNrKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5nZXRVc2VyQnlJZCA9IGZ1bmN0aW9uKGlkLCBjYWxsYmFjayl7XG4gIHZhciBxdWVyeSA9IHtfaWQ6IG1vbmdvb3NlLm1vbmdvLk9iamVjdElkKGlkKX07IFxuICBVc2VyLmZpbmRPbmUocXVlcnksIGNhbGxiYWNrKTtcbn1cblxuLy8gUGFzc3dvcmQgc3R1ZmZcblxubW9kdWxlLmV4cG9ydHMuY29tcGFyZVBhc3N3b3JkID0gZnVuY3Rpb24oY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2gsIGNhbGxiYWNrKXtcbiAgYmNyeXB0LmNvbXBhcmUoY2FuZGlkYXRlUGFzc3dvcmQsIGhhc2gsIGZ1bmN0aW9uKGVyciwgaXNNYXRjaCl7XG4gICAgaWYoZXJyKSB0aHJvdyBlcnI7XG4gICAgY2FsbGJhY2sobnVsbCwgaXNNYXRjaCk7XG4gIH0pO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIvbW9kZWxzL1VzZXIuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBZEE7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/*!*****************************!*\
  !*** external "superagent" ***!
  \*****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"superagent\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcInN1cGVyYWdlbnRcIj9jMDUxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInN1cGVyYWdlbnRcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJzdXBlcmFnZW50XCJcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImpzb253ZWJ0b2tlblwiPzY3ZmEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwianNvbndlYnRva2VuXCJcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */
/*!**********************************!*\
  !*** ./server/models/Tasktag.js ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar mongoose = __webpack_require__(/*! mongoose */ 0);\n\nvar TasktagSchema = mongoose.Schema({\n\n  name: String,\n  user_id: mongoose.Schema.Types.ObjectId //User that created this task\n});\n\n//We create a variable accesible outside of this file. Variable will be a mongoose schema with added functions\nvar Tasktag = module.exports = mongoose.model('Tasktag', TasktagSchema);\n\nmodule.exports.createTag = function (newTag, callback) {\n  Tasktag.create(newTag, callback);\n  //newTag.save(callback);\n};\n\nmodule.exports.deleteTag = function (tagId, callback) {\n  Tasktag.findByIdAndRemove(tagId, callback);\n};\n\nmodule.exports.getUserTags = function (userId, callback) {\n  var query = { 'user_id': userId };\n  Tasktag.find(query, callback);\n};\n\nmodule.exports.getStuff = function (Ids, callback) {\n  Tasktag.find({ _id: { $in: Ids } }, callback);\n};\n\nmodule.exports.deleteTagsInList = function (Ids, callback) {\n  Tasktag.remove({ _id: { $in: Ids } }, callback);\n};\n\nmodule.exports.tagExists = function (id) {\n  var query = { _id: mongoose.mongo.ObjectId(id) };\n  var promise = Tasktag.find(query);\n  promise.then(function (data) {\n    return true;\n  }, function (err) {\n    if (err) {\n      console.log(err);\n    };\n    return false;\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zZXJ2ZXIvbW9kZWxzL1Rhc2t0YWcuanM/YmM4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuXG52YXIgVGFza3RhZ1NjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYSh7XG5cbiAgICBuYW1lICAgICAgICAgICA6IFN0cmluZyxcbiAgICB1c2VyX2lkICAgICAgICA6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCAvL1VzZXIgdGhhdCBjcmVhdGVkIHRoaXMgdGFza1xufSk7XG5cbi8vV2UgY3JlYXRlIGEgdmFyaWFibGUgYWNjZXNpYmxlIG91dHNpZGUgb2YgdGhpcyBmaWxlLiBWYXJpYWJsZSB3aWxsIGJlIGEgbW9uZ29vc2Ugc2NoZW1hIHdpdGggYWRkZWQgZnVuY3Rpb25zXG52YXIgVGFza3RhZyA9IG1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ1Rhc2t0YWcnLCBUYXNrdGFnU2NoZW1hKTtcblxuXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVUYWcgPSBmdW5jdGlvbihuZXdUYWcsIGNhbGxiYWNrKXtcbiAgVGFza3RhZy5jcmVhdGUobmV3VGFnLCBjYWxsYmFjayk7XG4gIC8vbmV3VGFnLnNhdmUoY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5kZWxldGVUYWcgPSBmdW5jdGlvbih0YWdJZCwgY2FsbGJhY2spe1xuICBUYXNrdGFnLmZpbmRCeUlkQW5kUmVtb3ZlKHRhZ0lkLCBjYWxsYmFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmdldFVzZXJUYWdzID0gZnVuY3Rpb24odXNlcklkLCBjYWxsYmFjayl7XG4gIHZhciBxdWVyeSA9IHsndXNlcl9pZCc6IHVzZXJJZH07IFxuICBUYXNrdGFnLmZpbmQocXVlcnksIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0U3R1ZmYgPSBmdW5jdGlvbihJZHMsIGNhbGxiYWNrKSB7XG4gIFRhc2t0YWcuZmluZCh7X2lkOnskaW46IElkc319LCBjYWxsYmFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmRlbGV0ZVRhZ3NJbkxpc3QgPSBmdW5jdGlvbihJZHMsIGNhbGxiYWNrKSB7XG4gIFRhc2t0YWcucmVtb3ZlKHtfaWQ6eyRpbjogSWRzfX0sIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMudGFnRXhpc3RzID0gZnVuY3Rpb24oaWQpe1xuICB2YXIgcXVlcnkgPSB7X2lkOiBtb25nb29zZS5tb25nby5PYmplY3RJZChpZCl9O1xuICB2YXIgcHJvbWlzZSA9IFRhc2t0YWcuZmluZChxdWVyeSk7XG4gIHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICByZXR1cm4gdHJ1ZTsgXG4gIH0sIGZ1bmN0aW9uKGVycikge1xuICAgIGlmKGVycil7Y29uc29sZS5sb2coZXJyKX07XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc2VydmVyL21vZGVscy9UYXNrdGFnLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9\n");

/***/ }),
/* 10 */
/*!**************************!*\
  !*** ./server/server.js ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n//Config file\nvar APP_CONFIG = __webpack_require__(/*! ./app-config.js */ 2);\n\n//Middleware\nvar bodyParser = __webpack_require__(/*! body-parser */ 11);\nvar cookieParser = __webpack_require__(/*! cookie-parser */ 12);\nvar Express = __webpack_require__(/*! express */ 3);\nvar expressValidator = __webpack_require__(/*! express-validator */ 13);\nvar mongo = __webpack_require__(/*! mongodb */ 14);\nvar mongoose = __webpack_require__(/*! mongoose */ 0);\nvar passport = __webpack_require__(/*! passport */ 4);\nvar path = __webpack_require__(/*! path */ 15);\nvar session = __webpack_require__(/*! express-session */ 16);\n\n//Setup database\nmongoose.connect(APP_CONFIG.dbLocation);\nvar db = mongoose.connection;\n\n//Set routes\nvar auth_route = __webpack_require__(/*! ./routes/auth */ 17);\nvar api_route = __webpack_require__(/*! ./routes/api */ 20);\n\n//Init app\nvar app = new Express();\n\n// EJS view engine\napp.set('view engine', 'ejs');\napp.set('views', path.join(__dirname, 'views'));\n\n//BodyParser Middleware\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(cookieParser());\n\n// Set the static folder\napp.use(Express.static(path.join(__dirname, 'static')));\n\n//Express Session\napp.use(session({\n  secret: 'supersecret',\n  saveUninitialized: true,\n  resave: true\n}));\n\n//Express Validator Middleware\n//A validator can detect validity of strings such as valid emails, passwords with certain restrictions, etc...\napp.use(expressValidator({\n  errorFormatter: function errorFormatter(param, msg, value) {\n    var namespace = param.split('.'),\n        root = namespace.shift(),\n        formParam = root;\n\n    while (namespace.length) {\n      formParam += '[' + namespace.shift() + ']';\n    }\n    return {\n      param: formParam,\n      msg: msg,\n      value: value\n    };\n  }\n}));\n\n// Passport config\napp.use(passport.initialize());\napp.use(passport.session());\n\n// Universal routing and rendering\napp.get('*', function (req, res) {\n  var markup = '';\n  var status = 200;\n\n  return res.status(status).render('index', { markup: markup });\n});\n\napp.post('/testpost', function (req, res) {\n  res.status(200).json({\n    message: 'test response.'\n  });\n});\n\n//Set routes\napp.use('/auth', auth_route);\napp.use('/api', api_route);\n\n// Start server\nvar port = process.env.PORT || 3000;\nvar env = process.env.NODE_ENV || 'production';\napp.listen(port, function (err) {\n  if (err) {\n    return console.error(err);\n  }\n  return console.info('\\n      Server running on http://localhost:' + port + ' [' + env + ']\\n      Universal rendering: ' + (process.env.UNIVERSAL ? 'enabled' : 'disabled') + '\\n    ');\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL3NlcnZlci5qcz9lYTc1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vQ29uZmlnIGZpbGVcbnZhciBBUFBfQ09ORklHID0gcmVxdWlyZSgnLi9hcHAtY29uZmlnLmpzJyk7XG5cbi8vTWlkZGxld2FyZVxudmFyIGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xudmFyIGNvb2tpZVBhcnNlciA9IHJlcXVpcmUoJ2Nvb2tpZS1wYXJzZXInKTtcbnZhciBFeHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIGV4cHJlc3NWYWxpZGF0b3IgPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xudmFyIG1vbmdvID0gcmVxdWlyZSgnbW9uZ29kYicpO1xudmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbnZhciBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnZhciBzZXNzaW9uID0gcmVxdWlyZSgnZXhwcmVzcy1zZXNzaW9uJyk7XG5cbi8vU2V0dXAgZGF0YWJhc2Vcbm1vbmdvb3NlLmNvbm5lY3QoQVBQX0NPTkZJRy5kYkxvY2F0aW9uKTtcbnZhciBkYiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XG5cbi8vU2V0IHJvdXRlc1xudmFyIGF1dGhfcm91dGUgPSByZXF1aXJlKCcuL3JvdXRlcy9hdXRoJyk7XG52YXIgYXBpX3JvdXRlID0gcmVxdWlyZSgnLi9yb3V0ZXMvYXBpJyk7XG5cblxuLy9Jbml0IGFwcFxuY29uc3QgYXBwID0gbmV3IEV4cHJlc3MoKTtcblxuLy8gRUpTIHZpZXcgZW5naW5lXG5hcHAuc2V0KCd2aWV3IGVuZ2luZScsICdlanMnKTtcbmFwcC5zZXQoJ3ZpZXdzJywgcGF0aC5qb2luKF9fZGlybmFtZSwgJ3ZpZXdzJykpO1xuXG4vL0JvZHlQYXJzZXIgTWlkZGxld2FyZVxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6IHRydWV9KSk7XG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcblxuLy8gU2V0IHRoZSBzdGF0aWMgZm9sZGVyXG5hcHAudXNlKEV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdzdGF0aWMnKSkpO1xuXG4vL0V4cHJlc3MgU2Vzc2lvblxuYXBwLnVzZShzZXNzaW9uKHtcbiAgc2VjcmV0OiAnc3VwZXJzZWNyZXQnLFxuICBzYXZlVW5pbml0aWFsaXplZDogdHJ1ZSxcbiAgcmVzYXZlOiB0cnVlXG59KSlcblxuLy9FeHByZXNzIFZhbGlkYXRvciBNaWRkbGV3YXJlXG4vL0EgdmFsaWRhdG9yIGNhbiBkZXRlY3QgdmFsaWRpdHkgb2Ygc3RyaW5ncyBzdWNoIGFzIHZhbGlkIGVtYWlscywgcGFzc3dvcmRzIHdpdGggY2VydGFpbiByZXN0cmljdGlvbnMsIGV0Yy4uLlxuYXBwLnVzZShleHByZXNzVmFsaWRhdG9yKHtcbiAgZXJyb3JGb3JtYXR0ZXI6IGZ1bmN0aW9uKHBhcmFtLCBtc2csIHZhbHVlKSB7XG4gICAgICB2YXIgbmFtZXNwYWNlID0gcGFyYW0uc3BsaXQoJy4nKVxuICAgICAgLCByb290ICAgID0gbmFtZXNwYWNlLnNoaWZ0KClcbiAgICAgICwgZm9ybVBhcmFtID0gcm9vdDtcblxuICAgIHdoaWxlKG5hbWVzcGFjZS5sZW5ndGgpIHtcbiAgICAgIGZvcm1QYXJhbSArPSAnWycgKyBuYW1lc3BhY2Uuc2hpZnQoKSArICddJztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmFtIDogZm9ybVBhcmFtLFxuICAgICAgbXNnICAgOiBtc2csXG4gICAgICB2YWx1ZSA6IHZhbHVlXG4gICAgfTtcbiAgfVxufSkpO1xuXG5cbi8vIFBhc3Nwb3J0IGNvbmZpZ1xuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuYXBwLnVzZShwYXNzcG9ydC5zZXNzaW9uKCkpO1xuXG5cbi8vIFVuaXZlcnNhbCByb3V0aW5nIGFuZCByZW5kZXJpbmdcbmFwcC5nZXQoJyonLCBmdW5jdGlvbihyZXEsIHJlcyl7XG4gIGxldCBtYXJrdXAgPSAnJztcbiAgbGV0IHN0YXR1cyA9IDIwMDtcblxuICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXMpLnJlbmRlcignaW5kZXgnLCB7IG1hcmt1cCB9KTtcbn0pO1xuXG5hcHAucG9zdCgnL3Rlc3Rwb3N0JywgZnVuY3Rpb24ocmVxLHJlcyl7XG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICBtZXNzYWdlOiAndGVzdCByZXNwb25zZS4nXG4gIH0pXG59KTtcblxuLy9TZXQgcm91dGVzXG5hcHAudXNlKCcvYXV0aCcsIGF1dGhfcm91dGUpO1xuYXBwLnVzZSgnL2FwaScsIGFwaV9yb3V0ZSk7XG5cblxuLy8gU3RhcnQgc2VydmVyXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwO1xuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ3Byb2R1Y3Rpb24nO1xuYXBwLmxpc3Rlbihwb3J0LCAoZXJyKSA9PiB7XG4gIGlmIChlcnIpIHtcbiAgICByZXR1cm4gY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG4gIHJldHVybiBjb25zb2xlLmluZm8oXG4gICAgYFxuICAgICAgU2VydmVyIHJ1bm5pbmcgb24gaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9IFske2Vudn1dXG4gICAgICBVbml2ZXJzYWwgcmVuZGVyaW5nOiAke3Byb2Nlc3MuZW52LlVOSVZFUlNBTCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCd9XG4gICAgYCk7XG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc2VydmVyL3NlcnZlci5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQWRBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n");

/***/ }),
/* 11 */
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"body-parser\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzQ2NTciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n");

/***/ }),
/* 12 */
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"cookie-parser\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb29raWUtcGFyc2VyXCI/OWQwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb29raWUtcGFyc2VyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiY29va2llLXBhcnNlclwiXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n");

/***/ }),
/* 13 */
/*!************************************!*\
  !*** external "express-validator" ***!
  \************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"express-validator\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXZhbGlkYXRvclwiPzg4OWUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzcy12YWxpZGF0b3JcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJleHByZXNzLXZhbGlkYXRvclwiXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongodb\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb2RiXCI/YjQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb2RiXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibW9uZ29kYlwiXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NWIyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicGF0aFwiXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/*!**********************************!*\
  !*** external "express-session" ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"express-session\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIj82M2JkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3Mtc2Vzc2lvblwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImV4cHJlc3Mtc2Vzc2lvblwiXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/*!*******************************!*\
  !*** ./server/routes/auth.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar APP_CONFIG = __webpack_require__(/*! ../app-config.js */ 2);\nvar User = __webpack_require__(/*! ../models/User */ 6);\nvar request = __webpack_require__(/*! superagent */ 7);\n\n//Middleware\nvar jwt = __webpack_require__(/*! jsonwebtoken */ 8);\nvar passport = __webpack_require__(/*! passport */ 4);\nvar JwtStrategy = __webpack_require__(/*! passport-jwt */ 1).Strategy;\nvar ExtractJwt = __webpack_require__(/*! passport-jwt */ 1).ExtractJwt;\n\nvar LocalStrategy = __webpack_require__(/*! passport-local */ 5).Strategy;\nvar FacebookStrategy = __webpack_require__(/*! passport-local */ 5).Strategy;\nvar GoogleStrategy = __webpack_require__(/*! passport-local */ 5).Strategy;\n\nvar google = __webpack_require__(/*! googleapis */ 19);\nvar googlePlus = google.plus('v1');\nvar OAuth2 = google.auth.OAuth2;\nvar googleAuth = new OAuth2(APP_CONFIG.googleConfig.appID, APP_CONFIG.googleConfig.appSecret, APP_CONFIG.googleConfig.callbackUrl);\n\n//Serialize/deserialize\n//Seriale user takes in a user object and passes the id to the callback function 'done'\npassport.serializeUser(function (user, done) {\n\n  done(null, user.id);\n});\n\n//Given a user id, we search the database for the user and pass it to the callback function done\npassport.deserializeUser(function (id, done) {\n  User.getUserById(id, function (err, user) {\n    done(err, user);\n  });\n});\n\n//JWT Strategy is used to verify a client's JWT before accessing a 'secret' route\npassport.use('jwt', new JwtStrategy({\n  jwtFromRequest: ExtractJwt.fromBodyField('Authorization'),\n  secretOrKey: APP_CONFIG.jwtSecret\n}, function (jwt_payload, done) {\n\n  User.getUserById(jwt_payload.id, function (error, user) {\n\n    console.log(\"USER = \" + JSON.stringify(user));\n\n    if (error) {\n      console.log(\"Throwing error: \" + error);\n      return done(error, false);\n    }\n    if (user) {\n      return done(null, user);\n    } else {\n      return done(\"You are not authorized\", false);\n    }\n  });\n}));\n\n//THe following are strategies for logging in, all of which respond to the client with a JWT if succesful\npassport.use('local', new LocalStrategy(function (username, password, done) {\n\n  //Here, we create our own custom local strategy\n  //We use custom functions from our User mongoose object to talk to the database\n  //The process of our local strategy consists of\n  //1. Verifying user exists\n  //2. Check if password matches\n\n  User.getUserByLocalUsername(username, function (err, user) {\n\n    if (err) {\n      console.log(\"Throwing error\");\n      throw err;\n    }\n    if (!user) {\n      return done(null, false, { message: 'Unknown User' });\n    }\n\n    User.comparePassword(password, user.local.password, function (err, isMatch) {\n      //The callback function will be executed after the Mongo query\n      if (err) {\n        console.log(\"Throwing error\");\n        throw err;\n      }\n      if (isMatch) {\n        return done(null, user);\n      } else {\n        return done(null, false, { message: 'Invalid password' });\n      }\n    });\n  });\n}));\n\nvar facebookAuth = function facebookAuth(socialtoken, done) {\n\n  request.get('https://graph.facebook.com/me').query({ access_token: socialtoken, fields: \"name,email\" }).set('Accept', 'application/json').end(function (err, res) {\n\n    if (err || !res.ok) {\n      done(err);\n    }\n\n    var profile = res.body;\n\n    User.getUserByFacebookId(profile.id, function (err, user) {\n\n      if (err) {\n        console.log(\"Throwing error\");\n        throw err;\n      }\n      if (!user) {\n        //Create new user associated w FB account if not in DB already\n        var newUser = new User();\n\n        newUser.email = profile.email;\n        newUser.name = profile.name;\n        newUser.reg_source = 'facebook';\n        newUser.facebook.id = profile.id;\n        newUser.facebook.token = socialtoken;\n\n        User.createFacebookUser(newUser, function (err, user) {\n          if (err) return done(err);\n          return done(null, newUser);\n        });\n      } else {\n        //User was found in DB\n        return done(null, user);\n      }\n    });\n  });\n};\n\nvar googleAuth = function googleAuth(socialtoken, done) {\n\n  //Profile : https://www.googleapis.com/oauth2/v2/userinfo\n  //Email : https://www.googleapis.com/auth/userinfo.email\n\n  request.get(\"https://www.googleapis.com/plus/v1/people/me\").query({ \"access_token\": socialtoken }).set('Accept', 'application/json').end(function (err, res) {\n\n    if (err || !res.ok) {\n      done(err);\n    }\n\n    User.getUserByGoogleId(res.id, function (err, user) {\n\n      if (err) {\n        console.log(\"Throwing error\");\n        throw err;\n      }\n      if (!user) {\n        //Create new user associated w FB account if not in DB already\n        var newUser = new User();\n\n        newUser.email = res.emails[0].value;\n        newUser.name = res.displayName;\n        newUser.reg_source = 'google';\n        newUser.google.id = res.id;\n        newUser.google.token = socialtoken;\n\n        User.createGoogleUser(newUser, function (err, user) {\n          if (err) return done(err);\n          return done(null, newUser);\n        });\n      } else {\n        //User was found in DB\n        return done(null, user);\n      }\n    });\n  });\n};\n\n//Routes\nvar express = __webpack_require__(/*! express */ 3);\nvar router = express.Router();\n\nrouter.post('/login/local', function (req, res) {\n  passport.authenticate('local', function (err, user, info) {\n    if (err) {\n      console.log(err);\n      return res.status(403).json({ message: err });\n    }\n    if (!user) {\n      return res.status(401).json(info);\n    }\n    req.logIn(user, function (err) {\n      if (err) {\n        console.log(err);\n        return res.status(403).json({ message: err });\n      }\n      var payload = { id: user._id };\n      var token = jwt.sign(payload, APP_CONFIG.jwtSecret);\n      return res.status(200).json({ message: 'User has been authorized', token: token });\n    });\n  })(req, res);\n});\n\nrouter.post('/login/facebook', function (req, res) {\n\n  //The post request will provide a social token AND the facebook profile JSON\n  //The server checks if social token matches any of the registered fb users\n  //If true, we respond with a JWT, authorizing the user.\n  //If false, we create a new facebook user\n\n\n  facebookAuth(req.body.socialtoken, function (err, user, info) {\n    if (err) {\n      console.log(err);\n      return res.status(403).json({ message: err });\n    }\n    if (!user) {\n      return res.status(401).json(info);\n    }\n    var payload = { id: user._id };\n    var token = jwt.sign(payload, APP_CONFIG.jwtSecret);\n    return res.status(200).json({ message: 'User has been authorized', token: token });\n  });\n});\n\nrouter.post('/login/google', function (req, res) {\n\n  googleAuth(req.body.socialtoken, function (err, user, info) {\n    if (err) {\n      console.log(err);\n      return res.status(403).json({ message: err });\n    }\n    if (!user) {\n      return res.status(401).json(info);\n    }\n    var payload = { id: user._id };\n    var token = jwt.sign(payload, APP_CONFIG.jwtSecret);\n    return res.status(200).json({ message: 'User has been authorized', token: token });\n  });\n});\n\nrouter.post('/register/local', function (req, res) {\n\n  //Get form fields\n  var firstname = req.body.firstname;\n  var lastname = req.body.lastname;\n  var email = req.body.email;\n  var username = req.body.username;\n  var password1 = req.body.password1;\n  var password2 = req.body.password2;\n\n  //Register form back-end validation\n  req.checkBody('firstname', 'First name is required').notEmpty();\n  req.checkBody('lastname', 'Last name is required').notEmpty();\n  req.checkBody('email', 'Email name is required').notEmpty();\n  req.checkBody('username', 'Username is required').notEmpty();\n  req.checkBody('password1', 'Password is required').notEmpty();\n  req.checkBody('password2', 'Re-enter your password').notEmpty();\n  req.checkBody('email', 'Not a valid email').isEmail();\n  req.checkBody('password2', 'Passwords do not match').equals(password1);\n  var errors = req.validationErrors();\n\n  //If errors, send out an invalid request HTTP response (400),\n  if (errors) {\n    return res.status(403).json({\n      message: 'There was an error in the registration form',\n      errors: errors\n    });\n  } else {\n    //Create new user\n    var newUser = new User();\n    newUser.name = firstname + \" \" + lastname, newUser.email = email;\n    newUser.reg_source = 'local';\n    newUser.local.username = username;\n    newUser.local.password = password1;\n\n    try {\n      User.createLocalUser(newUser, function (err, user) {\n        if (err) {\n          throw err;\n        }\n        console.log(\"User has been created: \");\n        console.log(user);\n      });\n    } catch (err) {\n      console.log(err);\n      res.status(409).json({\n        message: 'User registration could not be fulfilled at this time'\n      });\n    }\n\n    return res.status(200).json({\n      message: 'User registered succesfully.'\n    });\n  }\n});\n\nmodule.exports = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL3JvdXRlcy9hdXRoLmpzP2ZhNzMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEFQUF9DT05GSUcgPSByZXF1aXJlKCcuLi9hcHAtY29uZmlnLmpzJyk7XG52YXIgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7XG52YXIgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVyYWdlbnQnKTtcblxuLy9NaWRkbGV3YXJlXG52YXIgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XG52YXIgcGFzc3BvcnQgPSByZXF1aXJlKCdwYXNzcG9ydCcpO1xudmFyIEp3dFN0cmF0ZWd5ID0gcmVxdWlyZShcInBhc3Nwb3J0LWp3dFwiKS5TdHJhdGVneTtcbnZhciBFeHRyYWN0Snd0ID0gcmVxdWlyZShcInBhc3Nwb3J0LWp3dFwiKS5FeHRyYWN0Snd0O1xuXG52YXIgTG9jYWxTdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWxvY2FsJykuU3RyYXRlZ3k7XG52YXIgRmFjZWJvb2tTdHJhdGVneSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWxvY2FsJykuU3RyYXRlZ3k7XG52YXIgR29vZ2xlU3RyYXRlZ3kgPSByZXF1aXJlKCdwYXNzcG9ydC1sb2NhbCcpLlN0cmF0ZWd5O1xuXG52YXIgZ29vZ2xlID0gcmVxdWlyZSgnZ29vZ2xlYXBpcycpO1xudmFyIGdvb2dsZVBsdXMgPSBnb29nbGUucGx1cygndjEnKTtcbnZhciBPQXV0aDIgPSBnb29nbGUuYXV0aC5PQXV0aDI7XG52YXIgZ29vZ2xlQXV0aCA9IG5ldyBPQXV0aDIoXG4gIEFQUF9DT05GSUcuZ29vZ2xlQ29uZmlnLmFwcElELFxuICBBUFBfQ09ORklHLmdvb2dsZUNvbmZpZy5hcHBTZWNyZXQsXG4gIEFQUF9DT05GSUcuZ29vZ2xlQ29uZmlnLmNhbGxiYWNrVXJsXG4pO1xuXG4vL1NlcmlhbGl6ZS9kZXNlcmlhbGl6ZVxuLy9TZXJpYWxlIHVzZXIgdGFrZXMgaW4gYSB1c2VyIG9iamVjdCBhbmQgcGFzc2VzIHRoZSBpZCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gJ2RvbmUnXG5wYXNzcG9ydC5zZXJpYWxpemVVc2VyKGZ1bmN0aW9uKHVzZXIsZG9uZSl7XG5cbiAgZG9uZShudWxsLCB1c2VyLmlkKTtcbn0pO1xuXG4vL0dpdmVuIGEgdXNlciBpZCwgd2Ugc2VhcmNoIHRoZSBkYXRhYmFzZSBmb3IgdGhlIHVzZXIgYW5kIHBhc3MgaXQgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGRvbmVcbnBhc3Nwb3J0LmRlc2VyaWFsaXplVXNlcihmdW5jdGlvbihpZCwgZG9uZSl7XG4gIFVzZXIuZ2V0VXNlckJ5SWQoaWQsIGZ1bmN0aW9uKGVyciwgdXNlcil7XG4gICAgZG9uZShlcnIsIHVzZXIpO1xuICB9KTtcbn0pO1xuXG4vL0pXVCBTdHJhdGVneSBpcyB1c2VkIHRvIHZlcmlmeSBhIGNsaWVudCdzIEpXVCBiZWZvcmUgYWNjZXNzaW5nIGEgJ3NlY3JldCcgcm91dGVcbnBhc3Nwb3J0LnVzZSgnand0JywgbmV3IEp3dFN0cmF0ZWd5KFxuICB7XG4gIGp3dEZyb21SZXF1ZXN0ICA6IEV4dHJhY3RKd3QuZnJvbUJvZHlGaWVsZCgnQXV0aG9yaXphdGlvbicpLFxuICBzZWNyZXRPcktleSAgICAgOiBBUFBfQ09ORklHLmp3dFNlY3JldFxuICB9LFxuICBmdW5jdGlvbihqd3RfcGF5bG9hZCwgZG9uZSl7XG4gICAgICAgICAgXG4gICAgVXNlci5nZXRVc2VyQnlJZChqd3RfcGF5bG9hZC5pZCwgZnVuY3Rpb24oZXJyb3IsIHVzZXIpe1xuXG4gICAgICBjb25zb2xlLmxvZyhcIlVTRVIgPSBcIiArIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcbiAgICAgIFxuICAgICAgaWYoZXJyb3Ipe1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRocm93aW5nIGVycm9yOiBcIiArIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGRvbmUoZXJyb3IsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRvbmUoXCJZb3UgYXJlIG5vdCBhdXRob3JpemVkXCIsIGZhbHNlKTtcbiAgICAgIH0gIFxuICAgIH0pO1xuICAgIFxuICB9XG4pKTtcblxuLy9USGUgZm9sbG93aW5nIGFyZSBzdHJhdGVnaWVzIGZvciBsb2dnaW5nIGluLCBhbGwgb2Ygd2hpY2ggcmVzcG9uZCB0byB0aGUgY2xpZW50IHdpdGggYSBKV1QgaWYgc3VjY2VzZnVsXG5wYXNzcG9ydC51c2UoJ2xvY2FsJyxuZXcgTG9jYWxTdHJhdGVneShcbiAgZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkLCBkb25lKSB7XG4gICAgXG4gICAgLy9IZXJlLCB3ZSBjcmVhdGUgb3VyIG93biBjdXN0b20gbG9jYWwgc3RyYXRlZ3lcbiAgICAvL1dlIHVzZSBjdXN0b20gZnVuY3Rpb25zIGZyb20gb3VyIFVzZXIgbW9uZ29vc2Ugb2JqZWN0IHRvIHRhbGsgdG8gdGhlIGRhdGFiYXNlXG4gICAgLy9UaGUgcHJvY2VzcyBvZiBvdXIgbG9jYWwgc3RyYXRlZ3kgY29uc2lzdHMgb2ZcbiAgICAgIC8vMS4gVmVyaWZ5aW5nIHVzZXIgZXhpc3RzXG4gICAgICAvLzIuIENoZWNrIGlmIHBhc3N3b3JkIG1hdGNoZXNcbiAgICBcbiAgICBVc2VyLmdldFVzZXJCeUxvY2FsVXNlcm5hbWUodXNlcm5hbWUsIGZ1bmN0aW9uKGVyciwgdXNlcil7XG5cbiAgICAgIGlmKGVycil7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhyb3dpbmcgZXJyb3JcIik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIGlmKCF1c2VyKXtcbiAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHttZXNzYWdlOiAnVW5rbm93biBVc2VyJ30pO1xuICAgICAgfVxuXG4gICAgICBVc2VyLmNvbXBhcmVQYXNzd29yZChwYXNzd29yZCwgdXNlci5sb2NhbC5wYXNzd29yZCwgZnVuY3Rpb24oZXJyLCBpc01hdGNoKXsgLy9UaGUgY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBleGVjdXRlZCBhZnRlciB0aGUgTW9uZ28gcXVlcnlcbiAgICAgICAgaWYoZXJyKXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRocm93aW5nIGVycm9yXCIpO1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBpZihpc01hdGNoKXtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwge21lc3NhZ2U6ICdJbnZhbGlkIHBhc3N3b3JkJ30pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xufSkpO1xuXG52YXIgZmFjZWJvb2tBdXRoID0gZnVuY3Rpb24oc29jaWFsdG9rZW4sIGRvbmUpIHtcblxuICAgIHJlcXVlc3RcbiAgICAuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZScpXG4gICAgLnF1ZXJ5KHsgYWNjZXNzX3Rva2VuOiBzb2NpYWx0b2tlbiwgZmllbGRzOlwibmFtZSxlbWFpbFwiIH0pXG4gICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKSAgICAgICAgXG4gICAgLmVuZChmdW5jdGlvbihlcnIsIHJlcyl7XG5cbiAgICAgIGlmIChlcnIgfHwgIXJlcy5vaykgeyBkb25lKGVycik7IH1cbiAgICBcbiAgICAgIHZhciBwcm9maWxlID0gcmVzLmJvZHk7XG5cbiAgICAgIFVzZXIuZ2V0VXNlckJ5RmFjZWJvb2tJZChwcm9maWxlLmlkLCBmdW5jdGlvbihlcnIsIHVzZXIpe1xuXG4gICAgICAgIGlmKGVycil7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUaHJvd2luZyBlcnJvclwiKTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXVzZXIpe1xuICAgICAgICAgIC8vQ3JlYXRlIG5ldyB1c2VyIGFzc29jaWF0ZWQgdyBGQiBhY2NvdW50IGlmIG5vdCBpbiBEQiBhbHJlYWR5XG4gICAgICAgICAgdmFyIG5ld1VzZXIgPSBuZXcgVXNlcigpO1xuXG4gICAgICAgICAgbmV3VXNlci5lbWFpbCA9IHByb2ZpbGUuZW1haWw7XG4gICAgICAgICAgbmV3VXNlci5uYW1lID0gcHJvZmlsZS5uYW1lO1xuICAgICAgICAgIG5ld1VzZXIucmVnX3NvdXJjZSA9ICdmYWNlYm9vayc7XG4gICAgICAgICAgbmV3VXNlci5mYWNlYm9vay5pZCA9IHByb2ZpbGUuaWQ7XG4gICAgICAgICAgbmV3VXNlci5mYWNlYm9vay50b2tlbiA9IHNvY2lhbHRva2VuO1xuICAgIFxuICAgICAgICAgIFVzZXIuY3JlYXRlRmFjZWJvb2tVc2VyKG5ld1VzZXIsIGZ1bmN0aW9uKGVyciwgdXNlcil7XG4gICAgICAgICAgICBpZihlcnIpIHJldHVybiBkb25lKGVycik7XG4gICAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBuZXdVc2VyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgIC8vVXNlciB3YXMgZm91bmQgaW4gREJcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTsgICAgICAgICAgXG4gICAgICAgIH0gICAgICBcbiAgICB9KTtcbiAgICB9KTtcbn07XG5cbnZhciBnb29nbGVBdXRoID0gZnVuY3Rpb24oc29jaWFsdG9rZW4sIGRvbmUpIHsgICAgXG5cbiAgICAgIC8vUHJvZmlsZSA6IGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92Mi91c2VyaW5mb1xuICAgICAgLy9FbWFpbCA6IGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvdXNlcmluZm8uZW1haWxcblxuICAgICAgcmVxdWVzdFxuICAgICAgLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3BsdXMvdjEvcGVvcGxlL21lXCIpXG4gICAgICAucXVlcnkoe1wiYWNjZXNzX3Rva2VuXCI6c29jaWFsdG9rZW59KVxuICAgICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKSAgICAgICAgXG4gICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgXG4gICAgICAgIGlmIChlcnIgfHwgIXJlcy5vaykgeyBkb25lKGVycik7IH1cbiAgXG4gICAgICAgIFVzZXIuZ2V0VXNlckJ5R29vZ2xlSWQocmVzLmlkLCBmdW5jdGlvbihlcnIsIHVzZXIpe1xuICBcbiAgICAgICAgICBpZihlcnIpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaHJvd2luZyBlcnJvclwiKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoIXVzZXIpe1xuICAgICAgICAgICAgLy9DcmVhdGUgbmV3IHVzZXIgYXNzb2NpYXRlZCB3IEZCIGFjY291bnQgaWYgbm90IGluIERCIGFscmVhZHlcbiAgICAgICAgICAgIHZhciBuZXdVc2VyID0gbmV3IFVzZXIoKTtcbiAgXG4gICAgICAgICAgICBuZXdVc2VyLmVtYWlsID0gcmVzLmVtYWlsc1swXS52YWx1ZTtcbiAgICAgICAgICAgIG5ld1VzZXIubmFtZSA9IHJlcy5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIG5ld1VzZXIucmVnX3NvdXJjZSA9ICdnb29nbGUnO1xuICAgICAgICAgICAgbmV3VXNlci5nb29nbGUuaWQgPSByZXMuaWQ7XG4gICAgICAgICAgICBuZXdVc2VyLmdvb2dsZS50b2tlbiA9IHNvY2lhbHRva2VuO1xuICAgICAgXG4gICAgICAgICAgICBVc2VyLmNyZWF0ZUdvb2dsZVVzZXIobmV3VXNlciwgZnVuY3Rpb24oZXJyLCB1c2VyKXtcbiAgICAgICAgICAgICAgaWYoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBuZXdVc2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgLy9Vc2VyIHdhcyBmb3VuZCBpbiBEQlxuICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgdXNlcik7ICAgICAgICAgIFxuICAgICAgICAgIH0gICAgICBcbiAgICAgIH0pO1xuICAgICAgfSk7XG4gIH07XG4gIFxuXG4vL1JvdXRlc1xudmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuXG5yb3V0ZXIucG9zdCgnL2xvZ2luL2xvY2FsJywgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbCcsIGZ1bmN0aW9uKGVyciwgdXNlciwgaW5mbyl7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogZXJyfSk7XG4gICAgfVxuICAgIGlmICghdXNlcikgeyBcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbihpbmZvKTtcbiAgICB9XG4gICAgcmVxLmxvZ0luKHVzZXIsIGZ1bmN0aW9uKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IGVycn0pO1xuICAgICAgfVxuICAgICAgdmFyIHBheWxvYWQgPSB7aWQ6IHVzZXIuX2lkfTtcbiAgICAgIHZhciB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIEFQUF9DT05GSUcuand0U2VjcmV0KTsgIFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiAnVXNlciBoYXMgYmVlbiBhdXRob3JpemVkJywgdG9rZW46IHRva2VufSk7XG4gICAgfSk7XG4gICAgfSkocmVxLCByZXMpO1xufSk7XG5cbnJvdXRlci5wb3N0KCcvbG9naW4vZmFjZWJvb2snLCBmdW5jdGlvbihyZXEsIHJlcykge1xuXG4gICAgLy9UaGUgcG9zdCByZXF1ZXN0IHdpbGwgcHJvdmlkZSBhIHNvY2lhbCB0b2tlbiBBTkQgdGhlIGZhY2Vib29rIHByb2ZpbGUgSlNPTlxuICAgIC8vVGhlIHNlcnZlciBjaGVja3MgaWYgc29jaWFsIHRva2VuIG1hdGNoZXMgYW55IG9mIHRoZSByZWdpc3RlcmVkIGZiIHVzZXJzXG4gICAgICAvL0lmIHRydWUsIHdlIHJlc3BvbmQgd2l0aCBhIEpXVCwgYXV0aG9yaXppbmcgdGhlIHVzZXIuXG4gICAgICAvL0lmIGZhbHNlLCB3ZSBjcmVhdGUgYSBuZXcgZmFjZWJvb2sgdXNlclxuXG5cbiAgZmFjZWJvb2tBdXRoKHJlcS5ib2R5LnNvY2lhbHRva2VuLCBmdW5jdGlvbihlcnIsIHVzZXIsIGluZm8pe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe21lc3NhZ2U6IGVycn0pO1xuICAgIH1cbiAgICBpZiAoIXVzZXIpIHsgXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oaW5mbyk7XG4gICAgfVxuICAgICAgdmFyIHBheWxvYWQgPSB7aWQ6IHVzZXIuX2lkfTtcbiAgICAgIHZhciB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIEFQUF9DT05GSUcuand0U2VjcmV0KTsgIFxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiAnVXNlciBoYXMgYmVlbiBhdXRob3JpemVkJywgdG9rZW46IHRva2VufSk7XG4gICAgfSk7XG59KTtcblxucm91dGVyLnBvc3QoJy9sb2dpbi9nb29nbGUnLCBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIFxuICAgIGdvb2dsZUF1dGgocmVxLmJvZHkuc29jaWFsdG9rZW4sIGZ1bmN0aW9uKGVyciwgdXNlciwgaW5mbyl7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7bWVzc2FnZTogZXJyfSk7XG4gICAgICB9XG4gICAgICBpZiAoIXVzZXIpIHsgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbihpbmZvKTtcbiAgICAgIH1cbiAgICAgICAgdmFyIHBheWxvYWQgPSB7aWQ6IHVzZXIuX2lkfTtcbiAgICAgICAgdmFyIHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgQVBQX0NPTkZJRy5qd3RTZWNyZXQpOyAgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogJ1VzZXIgaGFzIGJlZW4gYXV0aG9yaXplZCcsIHRva2VuOiB0b2tlbn0pO1xuICAgICAgfSk7XG59KTtcbiAgXG5cblxucm91dGVyLnBvc3QoJy9yZWdpc3Rlci9sb2NhbCcsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXG4gIC8vR2V0IGZvcm0gZmllbGRzXG4gIHZhciBmaXJzdG5hbWUgPSByZXEuYm9keS5maXJzdG5hbWU7XG4gIHZhciBsYXN0bmFtZSA9IHJlcS5ib2R5Lmxhc3RuYW1lO1xuICB2YXIgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcbiAgdmFyIHVzZXJuYW1lID0gcmVxLmJvZHkudXNlcm5hbWU7XG4gIHZhciBwYXNzd29yZDEgPSByZXEuYm9keS5wYXNzd29yZDE7XG4gIHZhciBwYXNzd29yZDIgPSByZXEuYm9keS5wYXNzd29yZDI7XG5cbiAgLy9SZWdpc3RlciBmb3JtIGJhY2stZW5kIHZhbGlkYXRpb25cbiAgcmVxLmNoZWNrQm9keSgnZmlyc3RuYW1lJywnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpLm5vdEVtcHR5KCk7XG4gIHJlcS5jaGVja0JvZHkoJ2xhc3RuYW1lJywnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJykubm90RW1wdHkoKTtcbiAgcmVxLmNoZWNrQm9keSgnZW1haWwnLCdFbWFpbCBuYW1lIGlzIHJlcXVpcmVkJykubm90RW1wdHkoKTtcbiAgcmVxLmNoZWNrQm9keSgndXNlcm5hbWUnLCdVc2VybmFtZSBpcyByZXF1aXJlZCcpLm5vdEVtcHR5KCk7ICAgIFxuICByZXEuY2hlY2tCb2R5KCdwYXNzd29yZDEnLCdQYXNzd29yZCBpcyByZXF1aXJlZCcpLm5vdEVtcHR5KCk7XG4gIHJlcS5jaGVja0JvZHkoJ3Bhc3N3b3JkMicsJ1JlLWVudGVyIHlvdXIgcGFzc3dvcmQnKS5ub3RFbXB0eSgpO1xuICByZXEuY2hlY2tCb2R5KCdlbWFpbCcsJ05vdCBhIHZhbGlkIGVtYWlsJykuaXNFbWFpbCgpO1xuICByZXEuY2hlY2tCb2R5KCdwYXNzd29yZDInLCdQYXNzd29yZHMgZG8gbm90IG1hdGNoJykuZXF1YWxzKHBhc3N3b3JkMSk7XG4gIHZhciBlcnJvcnMgPSByZXEudmFsaWRhdGlvbkVycm9ycygpO1xuXG4gIC8vSWYgZXJyb3JzLCBzZW5kIG91dCBhbiBpbnZhbGlkIHJlcXVlc3QgSFRUUCByZXNwb25zZSAoNDAwKSxcbiAgaWYoZXJyb3JzKXtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xuICAgICAgbWVzc2FnZTogJ1RoZXJlIHdhcyBhbiBlcnJvciBpbiB0aGUgcmVnaXN0cmF0aW9uIGZvcm0nLFxuICAgICAgZXJyb3JzOiBlcnJvcnNcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIC8vQ3JlYXRlIG5ldyB1c2VyXG4gICAgdmFyIG5ld1VzZXIgPSBuZXcgVXNlcigpO1xuICAgIG5ld1VzZXIubmFtZSA9IChmaXJzdG5hbWUgKyBcIiBcIiArIGxhc3RuYW1lKSxcbiAgICBuZXdVc2VyLmVtYWlsID0gZW1haWw7XG4gICAgbmV3VXNlci5yZWdfc291cmNlID0gJ2xvY2FsJztcbiAgICBuZXdVc2VyLmxvY2FsLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgbmV3VXNlci5sb2NhbC5wYXNzd29yZCA9IHBhc3N3b3JkMTtcblxuICAgIHRyeXtcbiAgICAgIFVzZXIuY3JlYXRlTG9jYWxVc2VyKG5ld1VzZXIsIGZ1bmN0aW9uKGVyciwgdXNlcil7XG4gICAgICAgIGlmKGVycil7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBoYXMgYmVlbiBjcmVhdGVkOiBcIilcbiAgICAgICAgY29uc29sZS5sb2codXNlcik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXMuc3RhdHVzKDQwOSkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdHJhdGlvbiBjb3VsZCBub3QgYmUgZnVsZmlsbGVkIGF0IHRoaXMgdGltZSdcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdGVyZWQgc3VjY2VzZnVsbHkuJ1xuICAgIH0pXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc2VydmVyL3JvdXRlcy9hdXRoLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj8wMzllIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJjcnlwdFwiXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/*!*****************************!*\
  !*** external "googleapis" ***!
  \*****************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = require(\"googleapis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJnb29nbGVhcGlzXCI/MzEwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJnb29nbGVhcGlzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiZ29vZ2xlYXBpc1wiXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/*!******************************!*\
  !*** ./server/routes/api.js ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar APP_CONFIG = __webpack_require__(/*! ../app-config.js */ 2);\nvar User = __webpack_require__(/*! ../models/User */ 6);\nvar Task = __webpack_require__(/*! ../models/Task */ 21);\nvar Tasktag = __webpack_require__(/*! ../models/Tasktag */ 9);\nvar request = __webpack_require__(/*! superagent */ 7);\n\n//Middleware\nvar jwt = __webpack_require__(/*! jsonwebtoken */ 8);\nvar passport = __webpack_require__(/*! passport */ 4);\nvar JwtStrategy = __webpack_require__(/*! passport-jwt */ 1).Strategy;\nvar ExtractJwt = __webpack_require__(/*! passport-jwt */ 1).ExtractJwt;\n\n//Routes\nvar express = __webpack_require__(/*! express */ 3);\nvar router = express.Router();\n\nrouter.post('/task_create', passport.authenticate('jwt', { session: false }), function (req, res) {\n\n  //Error checking\n  var errors = {};\n  req.checkBody('title', 'Task title is required').notEmpty();\n  req.checkBody('tags', 'List of task tags is required in request').exists();\n  if (req.validationErrors()) {\n    errors = req.validationErrors();\n  };\n  if (req.body.tags) {\n    for (var i = 0; i < req.body.tags.length; i++) {\n      if (!Tasktag.tagExists(req.body.tags[i])) {\n        errors.tags = 'Tag with id ' + req.body.tags[i] + ' does not exist in DB';\n      };\n    }\n  }\n  if (Object.keys(errors).length !== 0) {\n    return res.status(400).json({ message: 'Unable to create task with this title and tags', errors: errors });\n  }\n  //Create task and insert into DB\n  var taskTitle = req.body.title;\n  var taskTags = req.body.tags; //Array of object IDs\n\n  var task = new Task();\n  task.user_id = req.user._id;\n  task.date_created = new Date();\n  task.title = taskTitle;\n  task.marked_done = false;\n  task.tags = taskTags;\n\n  Task.createTask(task, function (err, task) {\n    if (err) {\n      console.log(\"err = \" + err);\n      return res.status(400).json({ message: \"Unable to insert task in DB\", error: err.message });\n    }\n    if (!task) {\n      return res.status(400).json({ message: \"Unable to insert task in DB\" });\n    } else {\n      return res.status(200).json({ message: \"Task created succesfully\", task: task });\n    }\n  });\n});\n\nrouter.post('/task_toggledone', passport.authenticate('jwt', { session: false }), function (req, res) {\n\n  //Error checking\n  req.checkBody('id', 'Id must be a 24 byte hex string ID').isMongoId();\n  if (req.validationErrors()) {\n    return res.status(400).json({ message: 'Unable to create task with this title and tags', errors: req.validationErrors() });\n  };\n  //Toggle task in DB\n  var id = req.body.id;\n  Task.toggleDone(req.body.id, function (err, doc) {\n    if (err) {\n      console.log(\"Error on task toggle = \" + err);\n      return res.status(400).json({ message: \"Unable to toggle task in database\", error: err.message });\n    }\n    if (!doc) {\n      return res.status(400).json({ message: \"Unable to toggle task in database\" });\n    } else {\n      return res.status(200).json({ message: \"Task toggled succesfully\" });\n    }\n  });\n});\n\nrouter.post('/task_delete', passport.authenticate('jwt', { session: false }), function (req, res) {\n\n  //Error checking\n  req.checkBody('id', 'Id must be a 24 byte hex string ID').isMongoId();\n  if (req.validationErrors()) {\n    return res.status(400).json({ message: 'Unable to delete task with this ID', errors: req.validationErrors() });\n  };\n\n  Tasktag.deleteTagsInList(req.body.tags, function (err, doc) {\n    if (err) {\n      console.log(\"Error on task delete = \" + err);\n      return res.status(400).json({ message: \"1Unable to delete task in database\", error: err.message });\n    }\n    if (!doc) {\n      return res.status(400).json({ message: \"2Unable to delete task in database\" });\n    }\n\n    Task.deleteTask(req.body.id, function (err, doc) {\n      if (err) {\n        console.log(\"Error on task delete = \" + err);\n        return res.status(400).json({ message: \"3Unable to delete task in database\", error: err.message });\n      }\n      if (!doc) {\n        return res.status(400).json({ message: \"4Unable to delete task in database\" });\n      } else {\n        return res.status(200).json({ message: \"Task deleted succesfully\" });\n      }\n    });\n  });\n});\n\nrouter.post('/task_getall', passport.authenticate('jwt', { session: false }), function (req, res) {\n\n  Task.getUserTasks(req.user._id, function (err, doc) {\n    if (err) {\n      console.log(\"Error on task getall = \" + err);\n      return res.status(400).json({ message: \"Unable to get tasks\", error: err.message });\n    }\n    if (!doc) {\n      return res.status(400).json({ message: \"Unable to get tasks\" });\n    } else {\n      return res.status(200).json({ message: \"Tasks retrieved succesfully\", tasks: doc });\n    }\n  });\n});\n\nrouter.post('/tasktag_getall', passport.authenticate('jwt', { session: false }), function (req, res) {\n  Tasktag.getUserTags(req.user._id, function (err, doc) {\n    if (err) {\n      console.log(\"Error on task getall = \" + err);\n      return res.status(400).json({ message: \"Unable to get tags\", error: err.message });\n    }\n    if (!doc) {\n      return res.status(400).json({ message: \"Unable to get tags\" });\n    } else {\n      return res.status(200).json({ message: \"Tags retrieved succesfully\", tags: doc });\n    }\n  });\n});\n\nrouter.post('/tags_getbyid', passport.authenticate('jwt', { session: false }), function (req, res) {\n  var list_id = req.body.list_id;\n\n  Task.getTask(list_id, function (err, task) {\n    if (err) {\n      console.log(\"Error on task getall = \" + err);\n      return res.status(400).json({ message: \"Unable to get tags\", error: err.message });\n    }\n    if (!task) {\n      return res.status(400).json({ message: \"Unable to get tags\" });\n    } else {\n      Tasktag.getStuff(task.tags, function (err, tags) {\n        if (err) {\n          console.log(\"Error on task getall = \" + err);\n          return res.status(400).json({ message: \"Unable to get tags\", error: err.message });\n        }\n        if (!tags) {\n          return res.status(400).json({ message: \"Unable to get tags\" });\n        } else {\n          return res.status(200).json({ message: \"Tags retrieved succesfully\", tags: tags });\n        }\n      });\n    }\n  });\n});\n\nrouter.post('/tasktag_create', passport.authenticate('jwt', { session: false }), function (req, res) {\n\n  //Error checking\n  var errors = {};\n  req.checkBody('name', 'Tag name is required').notEmpty();\n  if (req.validationErrors()) {\n    return res.status(400).json({ message: 'Unable to insert tag in DB', errors: req.validationErrors() });\n  };\n\n  //Create tag and insert into DB\n  var tag = new Tasktag();\n  tag.user_id = req.user._id;\n  tag.name = req.body.name;\n  var list_id = req.body.list_id;\n\n  Tasktag.createTag(tag, function (err, tag) {\n    if (err) {\n      console.log(\"err = \" + err);\n      return res.status(400).json({ message: \"Unable to insert tag in DB\", error: err.message });\n    }\n    if (!tag) {\n      return res.status(400).json({ message: \"Unable to insert tag in DB\" });\n    } else {\n      console.log(\"LIST ID IS\", req.body.list_id);\n\n      Task.addStuff(list_id, tag._id, function (err, doc) {\n        if (err) {\n          console.log(\"Error on task toggle = \" + err);\n          return res.status(400).json({ message: \"Unable to toggle task in database\", error: err.message });\n        }\n        if (!doc) {\n          return res.status(400).json({ message: \"Unable to toggle task in database\" });\n        }\n      });\n      return res.status(200).json({ message: \"Tag created succesfully\", tag: tag });\n    }\n  });\n});\n\nrouter.post('/tasktag_delete', passport.authenticate('jwt', { session: false }), function (req, res) {\n\n  Tasktag.deleteTag(req.body.id, function (err, doc) {\n    if (err) {\n      console.log(\"Error on tag delete = \" + err);\n      return res.status(400).json({ message: \"Unable to delete tag in database\", error: err.message });\n    }\n    if (!doc) {\n      return res.status(400).json({ message: \"Unable to delete tag in database\" });\n    } else {\n      var list_id = req.body.list_id;\n      Task.deleteStuff(list_id, req.body.id, function (err, doc) {\n        if (err) {\n          console.log(\"Error on task toggle = \" + err);\n          return res.status(400).json({ message: \"Unable to toggle task in database\", error: err.message });\n        }\n        if (!doc) {\n          return res.status(400).json({ message: \"Unable to toggle task in database\" });\n        }\n      });\n      return res.status(200).json({ message: \"Tag deleted succesfully\" });\n    }\n  });\n});\n\n//Example protected api. Make a POST request to this endpoint with JWT in the body as 'Authorization'\nrouter.post('/example', passport.authenticate('jwt', { session: false }), function (req, res) {\n  console.log(\"Example of a protected api called\");\n  //If user is not authorized, passport will send a 401 response\n  res.status(200).json({ message: 'You are authorized as ' + req.user.name });\n});\n\nmodule.exports = router;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL3JvdXRlcy9hcGkuanM/YWM0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQVBQX0NPTkZJRyA9IHJlcXVpcmUoJy4uL2FwcC1jb25maWcuanMnKTtcbnZhciBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL1VzZXInKTtcbnZhciBUYXNrID0gcmVxdWlyZSgnLi4vbW9kZWxzL1Rhc2snKTtcbnZhciBUYXNrdGFnID0gcmVxdWlyZSgnLi4vbW9kZWxzL1Rhc2t0YWcnKTtcbnZhciByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJhZ2VudCcpO1xuXG4vL01pZGRsZXdhcmVcbnZhciBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbnZhciBwYXNzcG9ydCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XG52YXIgSnd0U3RyYXRlZ3kgPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpLlN0cmF0ZWd5O1xudmFyIEV4dHJhY3RKd3QgPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpLkV4dHJhY3RKd3Q7XG5cbi8vUm91dGVzXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIucG9zdCgnL3Rhc2tfY3JlYXRlJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdqd3QnLCB7IHNlc3Npb246IGZhbHNlIH0pLCBmdW5jdGlvbihyZXEscmVzKSB7XG5cbiAgLy9FcnJvciBjaGVja2luZ1xuICB2YXIgZXJyb3JzPXt9O1xuICByZXEuY2hlY2tCb2R5KCd0aXRsZScsJ1Rhc2sgdGl0bGUgaXMgcmVxdWlyZWQnKS5ub3RFbXB0eSgpO1xuICByZXEuY2hlY2tCb2R5KCd0YWdzJywnTGlzdCBvZiB0YXNrIHRhZ3MgaXMgcmVxdWlyZWQgaW4gcmVxdWVzdCcpLmV4aXN0cygpO1xuICBpZihyZXEudmFsaWRhdGlvbkVycm9ycygpKXtlcnJvcnM9cmVxLnZhbGlkYXRpb25FcnJvcnMoKX07XG4gIGlmKHJlcS5ib2R5LnRhZ3Mpe1xuICAgIGZvcih2YXIgaT0wOyBpPHJlcS5ib2R5LnRhZ3MubGVuZ3RoOyBpKyspe1xuICAgICAgaWYoIVRhc2t0YWcudGFnRXhpc3RzKHJlcS5ib2R5LnRhZ3NbaV0pKXtcbiAgICAgICAgZXJyb3JzLnRhZ3M9KCdUYWcgd2l0aCBpZCAnICsgcmVxLmJvZHkudGFnc1tpXSArICcgZG9lcyBub3QgZXhpc3QgaW4gREInKVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggIT09IDApe1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVbmFibGUgdG8gY3JlYXRlIHRhc2sgd2l0aCB0aGlzIHRpdGxlIGFuZCB0YWdzJywgZXJyb3JzOiBlcnJvcnMgfSk7XG4gIH1cbiAgLy9DcmVhdGUgdGFzayBhbmQgaW5zZXJ0IGludG8gREJcbiAgdmFyIHRhc2tUaXRsZSA9IHJlcS5ib2R5LnRpdGxlO1xuICB2YXIgdGFza1RhZ3MgPSByZXEuYm9keS50YWdzOyAvL0FycmF5IG9mIG9iamVjdCBJRHNcblxuICB2YXIgdGFzayA9IG5ldyBUYXNrKCk7XG4gIHRhc2sudXNlcl9pZCA9IHJlcS51c2VyLl9pZDtcbiAgdGFzay5kYXRlX2NyZWF0ZWQgPSBuZXcgRGF0ZSgpO1xuICB0YXNrLnRpdGxlID0gdGFza1RpdGxlO1xuICB0YXNrLm1hcmtlZF9kb25lID0gZmFsc2U7XG4gIHRhc2sudGFncyA9IHRhc2tUYWdzO1xuXG4gIFRhc2suY3JlYXRlVGFzayh0YXNrLCBmdW5jdGlvbihlcnIsIHRhc2spe1xuICAgIGlmKGVycil7XG4gICAgICBjb25zb2xlLmxvZyhcImVyciA9IFwiICsgZXJyKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gaW5zZXJ0IHRhc2sgaW4gREJcIiwgZXJyb3I6IGVyci5tZXNzYWdlfSk7XG4gICAgfVxuICAgIGlmKCF0YXNrKXtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gaW5zZXJ0IHRhc2sgaW4gREJcIn0pO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlRhc2sgY3JlYXRlZCBzdWNjZXNmdWxseVwiICwgdGFzazogdGFza30pO1xuICAgIH1cbiAgfSk7XG59KTtcblxuXG5yb3V0ZXIucG9zdCgnL3Rhc2tfdG9nZ2xlZG9uZScsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnand0JywgeyBzZXNzaW9uOiBmYWxzZSB9KSwgZnVuY3Rpb24ocmVxLHJlcykge1xuICBcbiAgICAvL0Vycm9yIGNoZWNraW5nXG4gICAgcmVxLmNoZWNrQm9keSgnaWQnLCdJZCBtdXN0IGJlIGEgMjQgYnl0ZSBoZXggc3RyaW5nIElEJykuaXNNb25nb0lkKCk7XG4gICAgaWYocmVxLnZhbGlkYXRpb25FcnJvcnMoKSl7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVW5hYmxlIHRvIGNyZWF0ZSB0YXNrIHdpdGggdGhpcyB0aXRsZSBhbmQgdGFncycsIGVycm9yczogcmVxLnZhbGlkYXRpb25FcnJvcnMoKSB9KTsgICAgICAgIFxuICAgIH07XG4gIC8vVG9nZ2xlIHRhc2sgaW4gREJcbiAgICB2YXIgaWQgPSByZXEuYm9keS5pZDtcbiAgICBUYXNrLnRvZ2dsZURvbmUocmVxLmJvZHkuaWQsZnVuY3Rpb24oZXJyLGRvYyl7XG4gICAgICBpZihlcnIpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIG9uIHRhc2sgdG9nZ2xlID0gXCIgKyBlcnIpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIHRvZ2dsZSB0YXNrIGluIGRhdGFiYXNlXCIsIGVycm9yOiBlcnIubWVzc2FnZX0pO1xuICAgICAgfVxuICAgICAgaWYoIWRvYyl7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gdG9nZ2xlIHRhc2sgaW4gZGF0YWJhc2VcIn0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlRhc2sgdG9nZ2xlZCBzdWNjZXNmdWxseVwifSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gIH0pO1xuXG5cbiAgcm91dGVyLnBvc3QoJy90YXNrX2RlbGV0ZScsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnand0JywgeyBzZXNzaW9uOiBmYWxzZSB9KSwgZnVuY3Rpb24ocmVxLHJlcykge1xuICAgIFxuICAgICAgLy9FcnJvciBjaGVja2luZ1xuICAgICAgcmVxLmNoZWNrQm9keSgnaWQnLCdJZCBtdXN0IGJlIGEgMjQgYnl0ZSBoZXggc3RyaW5nIElEJykuaXNNb25nb0lkKCk7XG4gICAgICBpZihyZXEudmFsaWRhdGlvbkVycm9ycygpKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VuYWJsZSB0byBkZWxldGUgdGFzayB3aXRoIHRoaXMgSUQnLCBlcnJvcnM6IHJlcS52YWxpZGF0aW9uRXJyb3JzKCkgfSk7ICAgICAgICBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIFRhc2t0YWcuZGVsZXRlVGFnc0luTGlzdChyZXEuYm9keS50YWdzLCBmdW5jdGlvbihlcnIsIGRvYyl7XG4gICAgICAgIGlmKGVycil7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBvbiB0YXNrIGRlbGV0ZSA9IFwiICsgZXJyKTtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiMVVuYWJsZSB0byBkZWxldGUgdGFzayBpbiBkYXRhYmFzZVwiLCBlcnJvcjogZXJyLm1lc3NhZ2V9KTtcbiAgICAgICAgfVxuICAgICAgICBpZighZG9jKXtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiMlVuYWJsZSB0byBkZWxldGUgdGFzayBpbiBkYXRhYmFzZVwifSk7XG4gICAgICAgIH1cblxuICAgICAgICBUYXNrLmRlbGV0ZVRhc2socmVxLmJvZHkuaWQsZnVuY3Rpb24oZXJyLGRvYyl7XG4gICAgICAgICAgaWYoZXJyKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igb24gdGFzayBkZWxldGUgPSBcIiArIGVycik7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiM1VuYWJsZSB0byBkZWxldGUgdGFzayBpbiBkYXRhYmFzZVwiLCBlcnJvcjogZXJyLm1lc3NhZ2V9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoIWRvYyl7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiNFVuYWJsZSB0byBkZWxldGUgdGFzayBpbiBkYXRhYmFzZVwifSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6IFwiVGFzayBkZWxldGVkIHN1Y2Nlc2Z1bGx5XCJ9KTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIH0pXG5cbiAgICB9KTtcbiAgXG4gICAgcm91dGVyLnBvc3QoJy90YXNrX2dldGFsbCcsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnand0JywgeyBzZXNzaW9uOiBmYWxzZSB9KSwgZnVuY3Rpb24ocmVxLHJlcykge1xuICAgICAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIFRhc2suZ2V0VXNlclRhc2tzKHJlcS51c2VyLl9pZCxmdW5jdGlvbihlcnIsZG9jKXtcbiAgICAgICAgICBpZihlcnIpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBvbiB0YXNrIGdldGFsbCA9IFwiICsgZXJyKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHRhc2tzXCIsIGVycm9yOiBlcnIubWVzc2FnZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZighZG9jKXtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHRhc2tzXCJ9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogXCJUYXNrcyByZXRyaWV2ZWQgc3VjY2VzZnVsbHlcIiwgdGFza3M6IGRvY30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cblxucm91dGVyLnBvc3QoJy90YXNrdGFnX2dldGFsbCcsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnand0JywgeyBzZXNzaW9uOiBmYWxzZSB9KSwgZnVuY3Rpb24ocmVxLHJlcykgeyAgICAgIFxuICBUYXNrdGFnLmdldFVzZXJUYWdzKHJlcS51c2VyLl9pZCwgZnVuY3Rpb24oZXJyLGRvYyl7XG4gICAgaWYoZXJyKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igb24gdGFzayBnZXRhbGwgPSBcIiArIGVycik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIGdldCB0YWdzXCIsIGVycm9yOiBlcnIubWVzc2FnZX0pO1xuICAgIH1cbiAgICBpZighZG9jKXtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHRhZ3NcIn0pO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlRhZ3MgcmV0cmlldmVkIHN1Y2Nlc2Z1bGx5XCIsIHRhZ3M6IGRvY30pO1xuICAgIH1cbiAgfSk7XG59KTtcbiAgXG5yb3V0ZXIucG9zdCgnL3RhZ3NfZ2V0YnlpZCcsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnand0JywgeyBzZXNzaW9uOiBmYWxzZSB9KSwgZnVuY3Rpb24ocmVxLHJlcykge1xuICB2YXIgbGlzdF9pZCA9IHJlcS5ib2R5Lmxpc3RfaWQ7XG5cbiAgVGFzay5nZXRUYXNrKGxpc3RfaWQsIGZ1bmN0aW9uKGVyciwgdGFzayl7XG4gICAgaWYoZXJyKXtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igb24gdGFzayBnZXRhbGwgPSBcIiArIGVycik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIGdldCB0YWdzXCIsIGVycm9yOiBlcnIubWVzc2FnZX0pO1xuICAgIH1cbiAgICBpZighdGFzayl7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIGdldCB0YWdzXCJ9KTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIFRhc2t0YWcuZ2V0U3R1ZmYodGFzay50YWdzLCBmdW5jdGlvbihlcnIsIHRhZ3MpIHtcbiAgICAgICAgaWYoZXJyKXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIG9uIHRhc2sgZ2V0YWxsID0gXCIgKyBlcnIpO1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHRhZ3NcIiwgZXJyb3I6IGVyci5tZXNzYWdlfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXRhZ3Mpe1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gZ2V0IHRhZ3NcIn0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlRhZ3MgcmV0cmlldmVkIHN1Y2Nlc2Z1bGx5XCIsIHRhZ3M6IHRhZ3N9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgIH1cbiAgfSk7XG59KTtcblxucm91dGVyLnBvc3QoJy90YXNrdGFnX2NyZWF0ZScsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnand0JywgeyBzZXNzaW9uOiBmYWxzZSB9KSwgZnVuY3Rpb24ocmVxLHJlcykge1xuICBcbiAgICAvL0Vycm9yIGNoZWNraW5nXG4gICAgdmFyIGVycm9ycz17fTtcbiAgICByZXEuY2hlY2tCb2R5KCduYW1lJywnVGFnIG5hbWUgaXMgcmVxdWlyZWQnKS5ub3RFbXB0eSgpO1xuICAgIGlmKHJlcS52YWxpZGF0aW9uRXJyb3JzKCkpe1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VuYWJsZSB0byBpbnNlcnQgdGFnIGluIERCJywgZXJyb3JzOiByZXEudmFsaWRhdGlvbkVycm9ycygpIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy9DcmVhdGUgdGFnIGFuZCBpbnNlcnQgaW50byBEQlxuICAgIHZhciB0YWcgPSBuZXcgVGFza3RhZygpO1xuICAgIHRhZy51c2VyX2lkID0gcmVxLnVzZXIuX2lkO1xuICAgIHRhZy5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICB2YXIgbGlzdF9pZCA9IHJlcS5ib2R5Lmxpc3RfaWQ7XG5cbiAgICBUYXNrdGFnLmNyZWF0ZVRhZyh0YWcsIGZ1bmN0aW9uKGVyciwgdGFnKXtcbiAgICAgIGlmKGVycil7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZXJyID0gXCIgKyBlcnIpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIGluc2VydCB0YWcgaW4gREJcIiwgZXJyb3I6IGVyci5tZXNzYWdlfSk7XG4gICAgICB9XG4gICAgICBpZighdGFnKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlVuYWJsZSB0byBpbnNlcnQgdGFnIGluIERCXCJ9KTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTElTVCBJRCBJU1wiLCByZXEuYm9keS5saXN0X2lkKTtcbiAgICAgICAgXG4gICAgICAgIFRhc2suYWRkU3R1ZmYobGlzdF9pZCwgdGFnLl9pZCwgZnVuY3Rpb24oZXJyLGRvYyl7XG4gICAgICAgICAgaWYoZXJyKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igb24gdGFzayB0b2dnbGUgPSBcIiArIGVycik7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIHRvZ2dsZSB0YXNrIGluIGRhdGFiYXNlXCIsIGVycm9yOiBlcnIubWVzc2FnZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZighZG9jKXtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gdG9nZ2xlIHRhc2sgaW4gZGF0YWJhc2VcIn0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogXCJUYWcgY3JlYXRlZCBzdWNjZXNmdWxseVwiLCB0YWc6IHRhZ30pO1xuXG4gICAgICB9XG4gICAgfSk7XG5cblxufSk7XG5cbnJvdXRlci5wb3N0KCcvdGFza3RhZ19kZWxldGUnLCBwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2p3dCcsIHsgc2Vzc2lvbjogZmFsc2UgfSksIGZ1bmN0aW9uKHJlcSxyZXMpIHtcbiAgICBcbiAgICBUYXNrdGFnLmRlbGV0ZVRhZyhyZXEuYm9keS5pZCwgZnVuY3Rpb24oZXJyLGRvYyl7XG4gICAgICBpZihlcnIpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIG9uIHRhZyBkZWxldGUgPSBcIiArIGVycik7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gZGVsZXRlIHRhZyBpbiBkYXRhYmFzZVwiLCBlcnJvcjogZXJyLm1lc3NhZ2V9KTtcbiAgICAgIH1cbiAgICAgIGlmKCFkb2Mpe1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiVW5hYmxlIHRvIGRlbGV0ZSB0YWcgaW4gZGF0YWJhc2VcIn0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgdmFyIGxpc3RfaWQgPSByZXEuYm9keS5saXN0X2lkO1xuICAgICAgICBUYXNrLmRlbGV0ZVN0dWZmKGxpc3RfaWQsIHJlcS5ib2R5LmlkLCBmdW5jdGlvbihlcnIsZG9jKXtcbiAgICAgICAgICBpZihlcnIpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBvbiB0YXNrIHRvZ2dsZSA9IFwiICsgZXJyKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWVzc2FnZTogXCJVbmFibGUgdG8gdG9nZ2xlIHRhc2sgaW4gZGF0YWJhc2VcIiwgZXJyb3I6IGVyci5tZXNzYWdlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCFkb2Mpe1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttZXNzYWdlOiBcIlVuYWJsZSB0byB0b2dnbGUgdGFzayBpbiBkYXRhYmFzZVwifSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBcIlRhZyBkZWxldGVkIHN1Y2Nlc2Z1bGx5XCJ9KTtcbiAgICAgICAgXG4gICAgICB9XG4gICAgfSk7XG59KTtcblxuXG4vL0V4YW1wbGUgcHJvdGVjdGVkIGFwaS4gTWFrZSBhIFBPU1QgcmVxdWVzdCB0byB0aGlzIGVuZHBvaW50IHdpdGggSldUIGluIHRoZSBib2R5IGFzICdBdXRob3JpemF0aW9uJ1xucm91dGVyLnBvc3QoJy9leGFtcGxlJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdqd3QnLCB7IHNlc3Npb246IGZhbHNlIH0pLCBmdW5jdGlvbihyZXEscmVzKSB7XG4gIGNvbnNvbGUubG9nKFwiRXhhbXBsZSBvZiBhIHByb3RlY3RlZCBhcGkgY2FsbGVkXCIpO1xuICAvL0lmIHVzZXIgaXMgbm90IGF1dGhvcml6ZWQsIHBhc3Nwb3J0IHdpbGwgc2VuZCBhIDQwMSByZXNwb25zZVxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogJ1lvdSBhcmUgYXV0aG9yaXplZCBhcyAnICsgcmVxLnVzZXIubmFtZX0pO1xuXG59KTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc2VydmVyL3JvdXRlcy9hcGkuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/*!*******************************!*\
  !*** ./server/models/Task.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Tasktag = __webpack_require__(/*! ../models/Tasktag */ 9);\nvar mongoose = __webpack_require__(/*! mongoose */ 0);\n\nvar TaskSchema = mongoose.Schema({\n\n  user_id: mongoose.Schema.Types.ObjectId,\n  date_created: Date,\n  title: String,\n  marked_done: Boolean,\n  tags: [mongoose.Schema.Types.ObjectId] //Each array element referes to a tag table\n\n});\n\n//We create a variable accesible outside of this file. Variable will be a mongoose schema with added functions\nvar Task = module.exports = mongoose.model('Task', TaskSchema);\n\nmodule.exports.createTask = function (newTask, callback) {\n  Task.create(newTask, callback);\n  //newTask.save(callback);\n};\nmodule.exports.deleteTask = function (taskId, callback) {\n  Task.findByIdAndRemove(taskId, callback);\n};\n\nmodule.exports.toggleDone = function (taskId, callback) {\n\n  Task.findById(taskId, function (err, doc) {\n    if (err) {\n      callback(err);\n    }\n    var markedValue = doc.marked_done;\n    Task.findByIdAndUpdate(taskId, { marked_done: !markedValue }, callback);\n  });\n};\n\nmodule.exports.getTask = function (taskId, callback) {\n  Task.findById(taskId, callback);\n};\n\nmodule.exports.addStuff = function (taskId, stuffId, callback) {\n\n  Task.findById(taskId, function (err, doc) {\n    if (err) {\n      callback(err);\n    }\n    var markedValue = doc.marked_done;\n    //Task.findByIdAndUpdate(taskId, {marked_done: !markedValue}, callback);\n    Task.findByIdAndUpdate(taskId, { $push: { tags: stuffId } }, callback);\n  });\n};\n\nmodule.exports.deleteStuff = function (taskId, stuffId, callback) {\n\n  Task.findById(taskId, function (err, doc) {\n    if (err) {\n      callback(err);\n    }\n    var markedValue = doc.marked_done;\n    //Task.findByIdAndUpdate(taskId, {marked_done: !markedValue}, callback);\n    Task.findByIdAndUpdate(taskId, { $pull: { tags: stuffId } }, callback);\n  });\n};\n\nmodule.exports.getUserTasks = function (userId, callback) {\n  var query = { 'user_id': userId };\n  Task.find(query, callback);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyL21vZGVscy9UYXNrLmpzPzRjNjQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFRhc2t0YWcgPSByZXF1aXJlKCcuLi9tb2RlbHMvVGFza3RhZycpO1xudmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxudmFyIFRhc2tTY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoe1xuXG4gICAgdXNlcl9pZCAgICAgICAgOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgZGF0ZV9jcmVhdGVkICAgOiBEYXRlLFxuICAgIHRpdGxlICAgICAgICAgIDogU3RyaW5nLFxuICAgIG1hcmtlZF9kb25lICAgIDogQm9vbGVhbixcbiAgICB0YWdzICAgICAgICAgICA6IFttb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWRdIC8vRWFjaCBhcnJheSBlbGVtZW50IHJlZmVyZXMgdG8gYSB0YWcgdGFibGVcbiAgICBcbn0pO1xuXG4vL1dlIGNyZWF0ZSBhIHZhcmlhYmxlIGFjY2VzaWJsZSBvdXRzaWRlIG9mIHRoaXMgZmlsZS4gVmFyaWFibGUgd2lsbCBiZSBhIG1vbmdvb3NlIHNjaGVtYSB3aXRoIGFkZGVkIGZ1bmN0aW9uc1xudmFyIFRhc2sgPSBtb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdUYXNrJywgVGFza1NjaGVtYSk7XG5cblxubW9kdWxlLmV4cG9ydHMuY3JlYXRlVGFzayA9IGZ1bmN0aW9uKG5ld1Rhc2ssIGNhbGxiYWNrKXtcbiAgVGFzay5jcmVhdGUobmV3VGFzaywgY2FsbGJhY2spO1xuICAvL25ld1Rhc2suc2F2ZShjYWxsYmFjayk7XG59XG5tb2R1bGUuZXhwb3J0cy5kZWxldGVUYXNrID0gZnVuY3Rpb24odGFza0lkLCBjYWxsYmFjayl7XG4gIFRhc2suZmluZEJ5SWRBbmRSZW1vdmUodGFza0lkLCBjYWxsYmFjayk7XG59XG5cbm1vZHVsZS5leHBvcnRzLnRvZ2dsZURvbmUgPSBmdW5jdGlvbih0YXNrSWQsIGNhbGxiYWNrKXtcblxuICBUYXNrLmZpbmRCeUlkKHRhc2tJZCwgZnVuY3Rpb24oZXJyLCBkb2Mpe1xuICAgIGlmKGVycil7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICB2YXIgbWFya2VkVmFsdWUgPSBkb2MubWFya2VkX2RvbmU7XG4gICAgVGFzay5maW5kQnlJZEFuZFVwZGF0ZSh0YXNrSWQsIHttYXJrZWRfZG9uZTogIW1hcmtlZFZhbHVlfSwgY2FsbGJhY2spO1xuICB9KTtcbiBcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0VGFzayA9IGZ1bmN0aW9uKHRhc2tJZCwgY2FsbGJhY2spIHtcbiAgVGFzay5maW5kQnlJZCh0YXNrSWQsIGNhbGxiYWNrKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuYWRkU3R1ZmYgPSBmdW5jdGlvbih0YXNrSWQsIHN0dWZmSWQsIGNhbGxiYWNrKXtcblxuICBUYXNrLmZpbmRCeUlkKHRhc2tJZCwgZnVuY3Rpb24oZXJyLCBkb2Mpe1xuICAgIGlmKGVycil7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICB2YXIgbWFya2VkVmFsdWUgPSBkb2MubWFya2VkX2RvbmU7XG4gICAgLy9UYXNrLmZpbmRCeUlkQW5kVXBkYXRlKHRhc2tJZCwge21hcmtlZF9kb25lOiAhbWFya2VkVmFsdWV9LCBjYWxsYmFjayk7XG4gICAgVGFzay5maW5kQnlJZEFuZFVwZGF0ZSh0YXNrSWQsIHskcHVzaDoge3RhZ3M6IHN0dWZmSWR9fSwgY2FsbGJhY2spO1xuICB9KTtcbiBcbn1cblxubW9kdWxlLmV4cG9ydHMuZGVsZXRlU3R1ZmYgPSBmdW5jdGlvbih0YXNrSWQsIHN0dWZmSWQsIGNhbGxiYWNrKXtcblxuICBUYXNrLmZpbmRCeUlkKHRhc2tJZCwgZnVuY3Rpb24oZXJyLCBkb2Mpe1xuICAgIGlmKGVycil7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICB2YXIgbWFya2VkVmFsdWUgPSBkb2MubWFya2VkX2RvbmU7XG4gICAgLy9UYXNrLmZpbmRCeUlkQW5kVXBkYXRlKHRhc2tJZCwge21hcmtlZF9kb25lOiAhbWFya2VkVmFsdWV9LCBjYWxsYmFjayk7XG4gICAgVGFzay5maW5kQnlJZEFuZFVwZGF0ZSh0YXNrSWQsIHskcHVsbDoge3RhZ3M6IHN0dWZmSWR9fSwgY2FsbGJhY2spO1xuICB9KTtcbiBcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0VXNlclRhc2tzID0gZnVuY3Rpb24odXNlcklkLCBjYWxsYmFjayl7XG4gIHZhciBxdWVyeSA9IHsndXNlcl9pZCc6IHVzZXJJZH07IFxuICBUYXNrLmZpbmQocXVlcnksIGNhbGxiYWNrKTtcbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNlcnZlci9tb2RlbHMvVGFzay5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n");

/***/ })
/******/ ]);